# üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets

## –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.cloud.google.com/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **APIs & Services** ‚Üí **Library**
4. –ù–∞–π–¥–∏—Ç–µ –∏ –≤–∫–ª—é—á–∏—Ç–µ:
   - **Google Sheets API**
   - **Google Drive API**

## –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services** ‚Üí **Credentials**
2. –ù–∞–∂–º–∏—Ç–µ **Create Credentials** ‚Üí **Service Account**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - Service account name: `rental-bot`
   - Service account ID: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è
   - –ù–∞–∂–º–∏—Ç–µ **Create and Continue**
4. –í –ø–æ–ª–µ **Role** –≤—ã–±–µ—Ä–∏—Ç–µ **Editor** –∏–ª–∏ **Owner**
5. –ù–∞–∂–º–∏—Ç–µ **Continue**, –∑–∞—Ç–µ–º **Done**

## –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ JSON-–∫–ª—é—á

1. –ù–∞–π–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ —Å–ø–∏—Å–∫–µ
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Keys**
4. –ù–∞–∂–º–∏—Ç–µ **Add Key** ‚Üí **Create new key**
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç **JSON**
6. –ù–∞–∂–º–∏—Ç–µ **Create** ‚Äî —Ñ–∞–π–ª —Å–∫–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª credentials.json

1. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ `credentials.json`
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –ø–∞–ø–∫—É `telegram-bot/`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä—è–¥–æ–º —Å `bot.py`

## –®–∞–≥ 5: –°–æ–∑–¥–∞–π—Ç–µ Google –¢–∞–±–ª–∏—Ü—É

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://docs.google.com/spreadsheets/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É
3. –ù–∞–∑–æ–≤–∏—Ç–µ –µ—ë: **–ó–∞—è–≤–∫–∏ –Ω–∞ –∞—Ä–µ–Ω–¥—É –∂–∏–ª—å—è**
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `credentials.json` –∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ `client_email`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ email (–Ω–∞–ø—Ä–∏–º–µ—Ä: `rental-bot@project-id.iam.gserviceaccount.com`)
6. –í Google –¢–∞–±–ª–∏—Ü–µ –Ω–∞–∂–º–∏—Ç–µ **Share** (–ü–æ–¥–µ–ª–∏—Ç—å—Å—è)
7. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π email –∏ –¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ **Editor**

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É —Ç–∞–±–ª–∏—Ü—É –≤ Google Sheets
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ URL:
   ```
   https://docs.google.com/spreadsheets/d/1abc...xyz/edit
                                        ^^^^^^^^
                                        —ç—Ç–æ ID
   ```
3. –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   SPREADSHEET_ID=–≤–∞—à_id_—Ç–∞–±–ª–∏—Ü—ã
   ```
4. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π —Å email –∏–∑ `credentials.json` (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç –ê, —à–∞–≥ 6-7)

## –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-—á–∞—Ç

1. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É/–∫–∞–Ω–∞–ª –≤ Telegram –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π –ª–∏—á–Ω—ã–π —á–∞—Ç
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É (–µ—Å–ª–∏ —ç—Ç–æ –≥—Ä—É–ø–ø–∞)
3. –ü–æ–ª—É—á–∏—Ç–µ Chat ID:
   - –î–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞: –Ω–∞–ø–∏—à–∏—Ç–µ @userinfobot ‚Äî –æ–Ω –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à ID
   - –î–ª—è –≥—Ä—É–ø–ø—ã: –¥–æ–±–∞–≤—å—Ç–µ @RawDataBot –≤ –≥—Ä—É–ø–ø—É ‚Äî –æ–Ω –ø–æ–∫–∞–∂–µ—Ç chat_id
4. –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   ADMIN_CHAT_ID=-1001234567890
   ```
   (–¥–ª—è –≥—Ä—É–ø–ø ID –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-100`)

## –®–∞–≥ 7: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

–í–∞—à `.env` –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```env
BOT_TOKEN=8066655989:AAEqpJmKgS5uxrrJyYJTcTDAsQGoZZnrJoY
ADMIN_CHAT_ID=-1001234567890
SPREADSHEET_ID=1abc...xyz
```

## –®–∞–≥ 8: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
pip install -r requirements.txt
python bot.py
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É –≤ Telegram
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ 11 —à–∞–≥–æ–≤ –∞–Ω–∫–µ—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –í –∞–¥–º–∏–Ω-—á–∞—Ç –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∑–∞—è–≤–∫–æ–π
   - ‚úÖ –í Google –¢–∞–±–ª–∏—Ü–µ –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Permission denied"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–∞–ª–∏ –ø—Ä–∞–≤–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É –Ω–∞ —Ç–∞–±–ª–∏—Ü—É

### –û—à–∏–±–∫–∞: "Spreadsheet not found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SPREADSHEET_ID –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ó–∞—è–≤–∫–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —á–∞—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ADMIN_CHAT_ID –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É (–µ—Å–ª–∏ —ç—Ç–æ –≥—Ä—É–ø–ø–∞)
- –î–ª—è –≥—Ä—É–ø–ø ID –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `-100`

### –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Google Sheets
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ credentials.json –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ —Å bot.py
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã Google Sheets API –∏ Google Drive API
